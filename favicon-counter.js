let t,e;function n(){let t=document.querySelector("home-assistant");if(null===t)return 0;t=t.hass;let e=0;if(null===t)return 0;for(const n in t.states)n.startsWith("persistent_notification.")&&(e+=1);return e}window.setInterval((function(){e!==n()&&(function(){const e=n(),l=parent.document.querySelector("link[rel=icon]");void 0===t&&(t=l.href);const i=16,r=document.createElement("canvas");r.width=16,r.height=16;const o=r.getContext("2d"),a=document.createElement("img");null===l||(a.src=l.href,a.onload=()=>{null===o||(o.drawImage(a,0,0,i,i),0<e?(o.beginPath(),o.arc(r.width-i/3,i/3,i/3,0,2*Math.PI),o.fillStyle="#FF0000",o.fill(),o.font='10px "helvetica", sans-serif',o.textAlign="center",o.textBaseline="middle",o.fillStyle="#FFFFFF",o.fillText(e+"",r.width-i/3,i/3),l.href=r.toDataURL("image/png")):l.href=t)})}(),e=n())}),1e3);
